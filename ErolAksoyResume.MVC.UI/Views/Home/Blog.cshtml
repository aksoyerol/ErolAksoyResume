@model List<ErolAksoyResume.Dto.Concrete.BlogDtos.BlogGeneralDto>
@{
    ViewData["Title"] = "Blog";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<!-- Blog Page
           ================================================== -->
<div id="blog">
    <div class="row">
        <section class="blog col-md-12 bottom_30">
            <div class="col-md-12 content-header">
                <div class="section-title top_30 bottom_15">
                    <span></span><h2>
                        @if (ViewData["BlogCategoryName"] != null)
                        {
                            @ViewData["BlogCategoryName"]
                        }
                        else
                        {
                            @:Blog Posts
                        }
                    </h2>
                </div>
            </div>
            <div id="grid-blog" class="row">
                <!-- a blog -->
                @foreach (var blog in Model)
                {

                    <div class="cbp-item">
                        <a asp-action="BlogDetail" asp-route-id="@blog.Id" class="blog-box">
                            <div class="blog-img">
                                <img src="~/img/blog/@blog.ImageUrl" alt="@blog.Title" />
                            </div>
                            <div class="blog-box-info">
                                <span class="category">@blog.SubCategory.Name</span>
                                <h2 class="title">@blog.Title</h2>
                                @if (blog.Text.Length > 150)
                                {

                                    <p class="little-text" style="display:block;">@System.Text.RegularExpressions.Regex.Replace(blog.Text, "<[^>]*>", string.Empty).Substring(0, 150)</p>
                                }
                                else
                                {
                                    <p class="little-text" style="display:block;">@blog.Text</p>
                                }
                                <span class="date">@blog.CreatedDate.ToShortDateString()</span>
                            </div>
                        </a>
                    </div>
                }
                <!-- a blog -->

            </div>
            <!-- load more button -->
            <div id="load-posts" class="cbp-l-loadMore-button top_60">
                <a href="load-more/blog-posts.html" class="cbp-l-loadMore-link site-btn" rel="nofollow">
                    <span class="cbp-l-loadMore-defaultText">Load More (<span class="cbp-l-loadMore-loadItems">3</span>)</span>
                    <span class="cbp-l-loadMore-loadingText">Loading...</span>
                    <span class="cbp-l-loadMore-noMoreLoading">No More Works</span>
                </a>
            </div>
        </section>
    </div>
</div>